{% load static %}
{% include 'home/base.html' %} 
{% block content %} 
<div class="container" style = "padding : 10rem;"> 
    {% comment %} /user/checkout/ {% endcomment %}
    <form action="/user/checkout/" method="POST">
        {% csrf_token %} 
    <div class="row">
        <div class="col-md-4 order-md-2 mb-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-muted">Your cart</span>
                {% comment %} <span class="badge badge-secondary badge-pill">3</span> {% endcomment %}
            </h4>
            <ul class="list-group mb-3 sticky-top">
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">Product name</h6>
                        <small class="text-muted">Brief description</small>
                    </div>
                    <span class="text-muted">Rs. </span>
                </li>
                {% for item in carts %}
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">{{item.product.name}}</h6>
                        <small class="text-muted">Unit Price: {{item.product.price}} * {{item.quantity}}</small>
                    </div>
                    <span class="text-muted">Rs. {{item.total_price}}</span>
                </li>
                {% endfor %}
                <li class="list-group-item d-flex justify-content-between bg-light">
                    <div class="text-success">
                        <h6 class="my-0">Shipping Amount</h6>
                    </div>
                    <span class="text-success">Rs.100</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total (NPR)</span>
                    <strong>Rs. {{all_total}}</strong>
                </li>
            </ul>
        </div>
        <div class="col-md-8 order-md-1">
            <h4 class="mb-3">Billing address</h4>
            <form class="needs-validation" novalidate="">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="firstName">First name</label>
                        <input type="text" class="form-control" id="firstName" placeholder="" value="" required="" name = "first_name">
                        <div class="invalid-feedback"> Valid first name is required. </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="lastName">Last name</label>
                        <input type="text" class="form-control" id="lastName" placeholder="" value="" required="" name = "last_name">
                        <div class="invalid-feedback"> Valid last name is required. </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="username">Username</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">@</span>
                        </div>
                        <input type="text" class="form-control" id="username" placeholder="Username" required="">
                        <div class="invalid-feedback" style="width: 100%;"> Your username is required. </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="email">Email <span class="text-muted">(Optional)</span></label>
                    <input type="email" class="form-control" id="email" placeholder="you@example.com" name = "email">
                    <div class="invalid-feedback"> Please enter a valid email address for shipping updates. </div>
                </div>
                <div class="mb-3">
                    <label for="address">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="1234 Main St" required="" name = "address">
                    <div class="invalid-feedback"> Please enter your shipping address. </div>
                </div>
                <div class="mb-3">
                    <label for="phonenumber">Phone Number <span class="text-muted"></span></label>
                    <input type="text" class="form-control" id="phonenumber" placeholder="1234567890" name = "mobile">
                </div>
                <div class="row">
                    <div class="col-md-5 mb-3">
                        <label for="city">City</label>
                        <input type="text" class="form-control" id="city" placeholder="" required="" name = "city">
                        <div class="invalid-feedback"> City name required. </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="state">District</label>
                        <select class="custom-select d-block w-100" id="district" required="" name = "district">
                            <option value="">Choose...</option>
                            <option value="Taplejung">Taplejung</option>
                                <option value="Panchthar">Panchthar</option>
                                <option value="Ilam">Ilam</option>
                                <option value="Jhapa">Jhapa</option>
                                %{--Koshi--}%
                                <option value="Morang">Morang</option>
                                <option value="Sunsari">Sunsari</option>
                                <option value="Dhankutta">Dhankutta</option>
                                <option value="Sankhuwasabha">Sankhuwasabha</option>
                                <option value="Bhojpur">Bhojpur</option>
                                <option value="Terhathum">Terhathum</option>
                                %{--Sagarmatha--}%
                                <option value="Okhaldunga">Okhaldunga</option>
                                <option value="Khotang">Khotang</option>
                                <option value="Solukhumbu">Solukhumbu</option>
                                <option value="Udaypur">Udaypur</option>
                                <option value="Saptari">Saptari</option>
                                <option value="Siraha">Siraha</option>
                                %{--Janakpur--}%
                                <option value="Dhanusa">Dhanusa</option>
                                <option value="Mahottari">Mahottari</option>
                                <option value="Sarlahi">Sarlahi</option>
                                <option value="Sindhuli">Sindhuli</option>
                                <option value="Ramechhap">Ramechhap</option>
                                <option value="Dolkha">Dolkha</option>
                                %{--Bagmati--}%
                                <option value="Sindhupalchauk">Sindhupalchauk</option>
                                <option value="Kavreplanchauk">Kavreplanchauk</option>
                                <option value="Lalitpur">Lalitpur</option>
                                <option value="Bhaktapur">Bhaktapur</option>
                                <option value="Kathmandu">Kathmandu</option>
                                <option value="Nuwakot">Nuwakot</option>
                                <option value="Rasuwa">Rasuwa</option>
                                <option value="Dhading">Dhading</option>
                                %{--Narayani--}%
                                <option value="Makwanpur">Makwanpur</option>
                                <option value="Rauthat">Rauthat</option>
                                <option value="Bara">Bara</option>
                                <option value="Parsa">Parsa</option>
                                <option value="Chitwan">Chitwan</option>
                                %{--Gandaki--}%
                                <option value="Gorkha">Gorkha</option>
                                <option value="Lamjung">Lamjung</option>
                                <option value="Tanahun">Tanahun</option>
                                <option value="Tanahun">Tanahun</option>
                                <option value="Syangja">Syangja</option>
                                <option value="Kaski">Kaski</option>
                                <option value="Manag">Manag</option>
                                %{--Dhawalagiri--}%
                                <option value="Mustang">Mustang</option>
                                <option value="Parwat">Parwat</option>
                                <option value="Myagdi">Myagdi</option>
                                <option value="Myagdi">Myagdi</option>
                                <option value="Baglung">Baglung</option>
                                %{--Lumbini--}%
                                <option value="Gulmi">Gulmi</option>
                                <option value="Palpa">Palpa</option>
                                <option value="Nawalparasi">Nawalparasi</option>
                                <option value="Rupandehi">Rupandehi</option>
                                <option value="Arghakhanchi">Arghakhanchi</option>
                                <option value="Kapilvastu">Kapilvastu</option>
                                %{--Rapti--}%
                                <option value="Pyuthan">Pyuthan</option>
                                <option value="Rolpa">Rolpa</option>
                                <option value="Rukum">Rukum</option>
                                <option value="Salyan">Salyan</option>
                                <option value="Dang">Dang</option>
                                %{--Bheri--}%
                                <option value="Bardiya">Bardiya</option>
                                <option value="Surkhet">Surkhet</option>
                                <option value="Dailekh">Dailekh</option>
                                <option value="Banke">Banke</option>
                                <option value="Jajarkot">Jajarkot</option>
                                %{--Karnali--}%
                                <option value="Dolpa">Dolpa</option>
                                <option value="Humla">Humla</option>
                                <option value="Kalikot">Kalikot</option>
                                <option value="Mugu">Mugu</option>
                                <option value="Jumla">Jumla</option>
                                %{--Seti--}%
                                <option value="Bajura">Bajura</option>
                                <option value="Bajhang">Bajhang</option>
                                <option value="Achham">Achham</option>
                                <option value="Doti">Doti</option>
                                <option value="Kailali">Kailali</option>
                                %{--Mahakali--}%
                                <option value="Kanchanpur">Kanchanpur</option>
                                <option value="Dadeldhura">Dadeldhura</option>
                                <option value="Baitadi">Baitadi</option>
                                <option value="Darchula">Darchula</option>
                        </select>
                        <div class="invalid-feedback"> Please provide a valid district. </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="zip">Zip</label>
                        <input type="text" class="form-control" id="zip" placeholder="" required="" name = "zip">
                        <div class="invalid-feedback"> Zip code required. </div>
                    </div>
                </div>
                <hr class="mb-4">
                {% comment %} <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="same-address">
                    <label class="custom-control-label" for="same-address">Shipping address is the same as my billing address</label>
                </div> {% endcomment %}
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="save-info">
                    <label class="custom-control-label" for="save-info">Save this information for next time</label>
                </div>
                <hr class="mb-4">
                <h4 class="mb-3">Payment</h4>
                <div class="d-block my-3">
                    <div class="custom-control custom-radio">
                        <input id="cashondelivery" name="payment_method" type="radio" class="custom-control-input" checked="" required="" value = "CASH ON DELIVERY">
                        <label class="custom-control-label" for="cashondelivery">Cash on delivery</label>
                    </div>
                    <div class="custom-control custom-radio">
                        <input id="khalti" name="payment_method" type="radio" class="custom-control-input" required="" value = "KHALTI">
                        <label class="custom-control-label" for="khalti">Khalti</label>
                    </div>
                </div>
                <input type="hidden" value="{{all_total}}" name="all_total">
                <hr class="mb-4">
                <button class="btn btn-primary btn-lg btn-block" style = "background-color: #F76566 ; border: None;" type = "submit" > Continue to checkout </button>
        </div>
    </form>
    </div>
    <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">© 2022 ATTIRE</p>
        <ul class="list-inline">
            <li class="list-inline-item"><a href="#">Privacy</a></li>
            <li class="list-inline-item"><a href="#">Terms</a></li>
            <li class="list-inline-item"><a href="#">Support</a></li>
        </ul>
    </footer>
</div>
{% comment %} <div class = " container ">
    <div class = " row mt-5">
        <h4>Order Summary</h4>
        <hr>
        {% for item in cart %}
        <div class = " card mb-2">
            <div class = " card-body">
                <h5>Product: {{item.product.title}}</h5>
                <p>Product: {{item.quantity}}</p>
                <p class = " fw-bold">Price : {{item.product.price}}</p>
            </div>
        </div>
        {% endfor %}
        <p class = " fw-bold">Total Cost + Rs. 100 : {{totalamount}}</p>
        <small>Term and Condition: Lorem mollis aliquam ut porttitor leo. Ultrices vitae auctor eu augue. Dis parturient montes nascetur ridiculus mus mauris. Amet consectetur adipiscing elit duis tristique. Diam vel quam elementum pulvinar etiam. In dictum non consectetur a erat nam.</small>  
    </div>
    <div class = " col-sm-4 offset-sm-1">
        {% crsf_token%}
        {% for ad in add %}
        <div class = " card">
            <div class = " card-body ">
                <h5>{{ad.name}}</h5>
                <p>Mobile : {{ad.mobile}}</p>
                <p>{{ad.tole}} {{ad.city}} {{ad.district}} - {{ad.zipcode}}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div> {% endcomment %}

{% endblock %}